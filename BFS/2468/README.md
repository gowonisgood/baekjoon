# 백준 2468번: 안전 영역 - BFS 풀이

## 1. 문제 요약

N x N 크기의 지역의 높이 정보가 주어졌을 때, 비가 일정 높이 이상 올 경우 물에 잠기지 않는 안전 영역의 최대 개수를 구하는 문제입니다.

비가 `h`만큼 오면 높이 `h` 이하의 지역은 물에 잠기며, 물에 잠기지 않은 지역끼리 상하좌우로 연결된 구역을 하나의 안전 영역으로 봅니다.

## 2. 핵심 아이디어

1. 가능한 모든 비의 양(=height)에 대해 시뮬레이션을 돌린다.
2. 각 높이마다 `board[i][j] > height` 이고, `visited[i][j] == false`인 좌표에서 BFS를 시작한다.
3. BFS를 통해 연결된 모든 안전 구역을 방문 표시하며, 시작점마다 안전 영역 개수(cnt)를 1씩 증가시킨다.
4. 각 height마다의 안전 영역 개수 중 최댓값을 갱신한다.
5. height = 0부터 시작해야 한다. (비가 안 왔을 경우도 고려해야 하므로)

## 3. 주요 구현 포인트

- BFS를 시작하는 조건은 `board[i][j] > height && !visited[i][j]`
- visited 배열은 높이(height)마다 초기화해야 한다.
- BFS 내부에서 상하좌우로 이동하면서 연결된 모든 안전 구역을 탐색한다.

## 4. 전체 알고리즘

1. 입력으로 지역의 높이 정보를 board에 저장한다.
2. 가장 높은 지역의 높이를 구한다. (max_height)
3. height를 0부터 max_height-1까지 변화시키면서:
    - visited 배열을 초기화한다.
    - 모든 (i, j)에 대해 안전 구역 조건을 만족하면 BFS를 수행한다.
    - 안전 영역 개수를 누적하여 max_cnt를 갱신한다.
4. max_cnt를 출력한다.

## 5. 정리

   - height = 0부터 시작하는 것이 중요하다. 비가 전혀 오지 않는 경우가 가장 많은 안전 영역을 만들 수 있다.

   - BFS는 항상 조건을 만족하는 지점에서만 시작해야 하며, visited 초기화도 매번 수행해야 한다.

   - 영역은 상하좌우만 인접한 것으로 간주한다.
